.PHONY: clean all

APP_GUI=libgui
LIB_GUI=gui
OBJ_GUI=$(LIB_GUI).o
SRC_GUI=$(LIB_GUI).c
GUI=$(APP_GUI).a
INCLUDE_GUI=../include/gui.h

APP_UTILITIES=libutilities
LIB_UTILITIES=utilities
OBJ_UTILITIES=$(LIB_UTILITIES).o
SRC_UTILITIES=$(LIB_UTILITIES).c
UTILITIES=$(APP_UTILITIES).a
INCLUDE_UTILITIES=../include/utilities.h

APP_CFG=libcfg
LIB_CFG=cfg
OBJ_CFG=$(LIB_CFG).o
SRC_CFG=$(LIB_CFG).c
CFG=$(APP_CFG).a
INCLUDE_CFG=../include/cfg.h

APP_LIST=liblist
LIB_LIST=list
OBJ_LIST=$(LIB_LIST).o
SRC_LIST=$(LIB_LIST).c
LIST=$(APP_LIST).a
INCLUDE_LIST=../include/list.h

APP_MOVE=libmove
LIB_MOVE=move
OBJ_MOVE=$(LIB_MOVE).o
SRC_MOVE=$(LIB_MOVE).c
MOVE=$(APP_MOVE).a
INCLUDE_MOVE=../include/move.h

APP_ALGORITHMS=libalgorithms
LIB_ALGORITHMS=algorithms
OBJ_ALGORITHMS=$(LIB_ALGORITHMS).o
SRC_ALGORITHMS=$(LIB_ALGORITHMS).c
ALGORITHMS=$(APP_ALGORITHMS).a
INCLUDE_ALGORITHMS=../include/algorithms.h

APP_SCHEDULERS=libschedulers
LIB_SCHEDULERS=schedulers
OBJ_SCHEDULERS=$(LIB_SCHEDULERS).o
SRC_SCHEDULERS=$(LIB_SCHEDULERS).c
SCHEDULERS=$(APP_SCHEDULERS).a
INCLUDE_SCHEDULERS=../include/schedulers.h

APP_LTHREADS=liblpthread
LIB_LTHREADS=lpthread
OBJ_LTHREADS=$(LIB_LTHREADS).o
SRC_LTHREADS=$(LIB_LTHREADS).c
LTHREADS=$(APP_LTHREADS).a
INCLUDE_LTHREADS=../include/lpthread.h

CC=gcc
MAKELIB=ar rv
RANLIB=ranlib

all: $(GUI) $(UTILITIES) $(CFG) $(LIST) $(SCHEDULERS) $(ALGORITHMS) $(MOVE) $(LTHREADS) clean

$(GUI): $(OBJ_GUI)
		$(MAKELIB) $(GUI) $(OBJ_GUI) && $(RANLIB) $(GUI)

$(OBJ_GUI): $(SRC_GUI) $(INCLUDE_GUI)
		$(CC) -c $(SRC_GUI)

$(UTILITIES): $(OBJ_UTILITIES)
		$(MAKELIB) $(UTILITIES) $(OBJ_UTILITIES) && $(RANLIB) $(UTILITIES)

$(OBJ_UTILITIES): $(SRC_UTILITIES) $(INCLUDE_UTILITIES)
		$(CC) -c $(SRC_UTILITIES)

$(CFG): $(OBJ_CFG)
		$(MAKELIB) $(CFG) $(OBJ_CFG) && $(RANLIB) $(CFG)

$(OBJ_CFG): $(SRC_CFG) $(INCLUDE_CFG)
		$(CC) -c $(SRC_CFG) -I../include

$(LIST): $(OBJ_LIST)
		$(MAKELIB) $(LIST) $(OBJ_LIST) && $(RANLIB) $(LIST)

$(OBJ_LIST): $(SRC_LIST) $(INCLUDE_LIST)
		$(CC) -c $(SRC_LIST) -I../include

$(MOVE): $(OBJ_MOVE)
		$(MAKELIB) $(MOVE) $(OBJ_MOVE) && $(RANLIB) $(MOVE)

$(OBJ_MOVE): $(SRC_MOVE) $(INCLUDE_MOVE)
		$(CC) -c $(SRC_MOVE) -I../include

$(ALGORITHMS): $(OBJ_ALGORITHMS)
		$(MAKELIB) $(ALGORITHMS) $(OBJ_ALGORITHMS) && $(RANLIB) $(ALGORITHMS)

$(OBJ_ALGORITHMS): $(SRC_ALGORITHMS) $(INCLUDE_ALGORITHMS)
		$(CC) -c $(SRC_ALGORITHMS) -I../include

$(SCHEDULERS): $(OBJ_SCHEDULERS)
		$(MAKELIB) $(SCHEDULERS) $(OBJ_SCHEDULERS) && $(RANLIB) $(SCHEDULERS)

$(OBJ_SCHEDULERS): $(SRC_SCHEDULERS) $(INCLUDE_SCHEDULERS)
		$(CC) -c $(SRC_SCHEDULERS) -I../include

$(LTHREADS): $(OBJ_LTHREADS)
		$(MAKELIB) $(LTHREADS) $(OBJ_LTHREADS) && $(RANLIB) $(LTHREADS)

$(OBJ_LTHREADS): $(SRC_LTHREADS) $(INCLUDE_LTHREADS)
		$(CC) -c $(SRC_LTHREADS) -I../include

clean:
		rm  *.o